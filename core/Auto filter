async function analyzeToken(pair) {
  try {
    const liq = pair.liquidity?.usd || 0;
    const vol = pair.volume?.h24 || 0;
    const ageMins = (Date.now() - (pair.pairCreatedAt || Date.now())) / 60000;

    if (liq < 25000) return false;
    if (vol < 10000) return false;
    if (ageMins > 120) return false;

    return {
      token: pair.baseToken.name,
      symbol: pair.baseToken.symbol,
      address: pair.baseToken.address,
      price: pair.priceUsd,
      liquidity: liq,
      volume: vol,
      age: `${Math.floor(ageMins)}m`,
      url: pair.url
    };
  } catch (e) {
    return false;
  }
}

module.exports = { analyzeToken };
